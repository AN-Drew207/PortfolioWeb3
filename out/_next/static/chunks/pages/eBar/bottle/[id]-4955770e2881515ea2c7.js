(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[891],{44760:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return _},default:function(){return C}});var n=r(92809),s=r(30266),l=r(66311),a=r(809),o=r.n(a),c=r(67294),i=r(86010),d=r(91540),u=r(41643),x=r(51598),f=r(50695),m=r(11163),h=r(41664),p=r(70582),w=r(95998),j=r(46367),b=r(98681),g=r(4724),v=r(85893);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var k=function(){var e=c.useState(!1),t=(0,l.Z)(e,2),r=t[0],n=(t[1],c.useState(!1)),a=(0,l.Z)(n,2),f=a[0],y=a[1],k=c.useState({}),_=(0,l.Z)(k,2),C=_[0],P=_[1],S=(0,m.useRouter)().query,T=S.id,B=(S.modal,S.offer,(0,w.v9)((function(e){return e.state}))),F=B.bottles,Z=B.address,D=B.networkName,E=B.network,I=B.typeOfWallet,M=((0,w.I0)(),(0,g.Z)()),U=M.account,A=M.getNFTsOneBottleMagic,G=function(){var e=(0,s.Z)(o().mark((function e(){var t,r,n,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.Z)();case 2:return t=e.sent,e.next=5,t.eth.getAccounts();case 5:return r=e.sent,e.next=8,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x"+parseInt(E).toString(16)}]});case 8:return e.next=10,t.eth.net.getId();case 10:if(e.sent==E){e.next=13;break}return e.abrupt("return",alert("You are not on the ".concat(D," network, set network to ").concat(E)));case 13:"0x9Cf0C4bB20d6a2565b695B7610dD5DDf19542a50",l=new t.eth.Contract(u,"0x9Cf0C4bB20d6a2565b695B7610dD5DDf19542a50"),F.map(function(){var e=(0,s.Z)(o().mark((function e(s,a){var c,i,u,x,f,m,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(s,T.toLowerCase(),"compare"),s.address.toLowerCase()!=T.toLowerCase()){e.next=36;break}return e.next=4,l.methods.collections(s.address).call();case 4:if(c=e.sent,console.log(c,"collection"),0!=c.exchanged){e.next=21;break}return n=new t.eth.Contract(d,s.address),e.next=10,n.methods.getOwnerTokens(r[0]).call();case 10:return i=e.sent,e.next=13,n.methods.supply().call();case 13:u=e.sent,x=new Array(parseInt(u)).fill(!1).map((function(e,t){return t})),f=x.map((function(e){return s.metadata[e]})),console.log(f,"response"),P(N(N({},s),{},{tokensOfUser:i,NFTs:f.map((function(e,t){return N(N({},e),{},{id:(t+1).toString()})}))})),y(!1),e.next=36;break;case 21:return console.log("true"),e.next=24,l.methods.tokenURI(c.collectionId).call();case 24:return m=e.sent,e.t0=Promise,e.next=28,fetch(m);case 28:return e.next=30,e.sent.json();case 30:return e.t1=e.sent,e.next=33,e.t0.resolve.call(e.t0,e.t1);case 33:h=e.sent,P(N(N({},s),{},{finalToken:h})),y(!0);case 36:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}());case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();c.useEffect((function(){T&&Z&&"magic"!==I?G():Z&&"magic"==I&&A(T,P,y)}),[T,F,Z]),c.useEffect((function(){console.log(C)}),[C]);var L=c.useRef(null);return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:(0,i.Z)("min-h-screen flex flex-col items-center pt-0 w-full bg-gray-900","relative",r||!C.address?"justify-center":"justify-start"),children:[(0,v.jsx)("img",{src:"/img/bg_membership.jpg",className:"fixed h-full w-full",alt:""}),!r&&C&&C.address?(0,v.jsx)("div",{className:"flex justify-center items-start w-full",children:(0,v.jsxs)("div",{className:"min-h-screen flex flex-col gap-4 items-center py-32 xl:w-4/5 w-full xl:px-0 px-8 justify-start relative",children:[(0,v.jsxs)("div",{className:"flex justify-between w-full",children:[(0,v.jsx)(h.default,{href:"/eBar",children:(0,v.jsx)("div",{className:"font-bold md:text-xl text-md mb-4  text-white cursor-pointer",children:"Back to eBar"})}),(0,v.jsx)(h.default,{href:"/bottle/"+C.address,children:(0,v.jsx)("div",{className:"font-bold md:text-xl text-md mb-4 text-white cursor-pointer",children:"Go to Bottle"})})]}),f?(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:"flex rounded-xl flex-col items-center justify-center w-full bg-overlay border border-yellow-400 p-8",children:[(0,v.jsx)("h2",{className:"text-3xl text-yellow-400 font-bold pb-4",children:C.name}),(0,v.jsx)("video",{src:C.image,autoPlay:!0,loop:!0,className:"rounded-xl border border-yellow-400 h-auto md:w-2/3 w-full",ref:L}),(0,v.jsxs)("h2",{className:"text-3xl text-yellow-400 font-bold pt-10",children:["Final NFT Art from ",C.short_name]}),C&&C.finalToken?(0,v.jsxs)("div",{className:"flex lg:flex-row flex-col items-center justify-center gap-x-10 gap-y-4 p-4 py-10",children:[(0,v.jsx)("img",{src:C.finalToken.image,className:"lg:w-1/2 w-full rounded-xl\tborder border-yellow-400",alt:""}),(0,v.jsxs)("div",{className:"flex lg:flex-col flex-col-reverse items-center justify-center gap-x-2 gap-y-4 lg:w-1/2 w-full",children:[(0,v.jsx)("img",{src:C.artist.photo[0],className:"rounded-xl h-80",alt:""}),(0,v.jsxs)("h2",{className:"text-white text-md font-bold",children:["Art Made By"," ",(0,v.jsx)("span",{className:"text-yellow-400",children:C.artist.name})]}),(0,v.jsx)("div",{className:"flex flex-col gap-2",children:(0,v.jsx)("div",{className:"flex flex-col w-full items-center justify-center gap-4 mt-4",children:C.artist.paragraphs.map((function(e){return(0,v.jsx)(b.QX,{title:e.title,text:e.text})}))})})]})]}):(0,v.jsx)(j.g,{})]})}):(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:"flex rounded-xl flex-col items-center justify-center w-full bg-overlay border border-dark-800 p-8",children:[(0,v.jsx)("h2",{className:"text-3xl textMain font-bold pb-4",children:C.name}),(0,v.jsx)("video",{src:C.image,autoPlay:!0,loop:!0,className:"rounded-xl border border-white h-auto md:w-2/3 w-full",ref:L}),(0,v.jsxs)("h2",{className:"text-3xl textMain font-bold pt-10",children:["NFTs From ",C.short_name]}),C&&C.NFTs?(0,v.jsx)("div",{className:"flex flex-wrap items-center justify-center gap-x-2 gap-y-4 p-4 py-10",children:C.NFTs.map((function(e){return console.log(C.tokensOfUser,e,e.id,C.tokensOfUser.includes(e.id)),(0,v.jsx)(O,{active:C.tokensOfUser.includes(e.id),token:e,network:E,networkName:D,bottle:C})}))}):(0,v.jsx)(j.g,{})]})})]})}):Z||U?(0,v.jsx)(j.g,{}):(0,v.jsx)("div",{className:"text-center relative text-2xl text-white font-bold h-[60vh] flex items-center justify-center px-6",children:(0,v.jsx)("div",{className:"bg-overlay rounded-xl p-6",children:"Please Connect Your Wallet To See this Section"})}),(0,v.jsx)(p.x7,{})]})})},O=function(e){var t=e.active,r=e.network,s=e.networkName,l=e.bottle,a=e.token,o=(0,f.d)(),c=o.Modal,d=o.isShow,u=o.show,x=o.hide;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(c,{isShow:d,hasBg:!0,children:(0,v.jsx)("div",{className:"min-h-[100vh] flex flex-col items-center justify-center w-full",children:(0,v.jsx)("div",{className:"min-h-[50vh] bg-overlay rounded-md p-6 2xl:min-w-[50vw] min-w-full",children:(0,v.jsxs)("div",{className:"flex justify-between",children:[(0,v.jsx)("div",{className:"text-white font-bold cursor-pointer",onClick:x,children:"x"}),(0,v.jsx)("a",{href:"https://".concat("137"!=r?"testnets.":"","opensea.io/assets/").concat(s,"/").concat(l.address,"/").concat(a.id),target:"_blank",className:"text-white",children:"Go to Opensea"})]})})})}),(0,v.jsxs)("div",{className:(0,i.Z)((0,n.Z)({},"opacity-50",!t),(0,n.Z)({},"cursor-pointer",t),"w-40 h-60"),onClick:t?function(){return u()}:void 0,children:[(0,v.jsx)("img",{src:a.image,className:"rounded-xl border border-white overflow-hidden h-40 w-40",alt:""})," ",(0,v.jsx)("h2",{className:"p-4 text-center text-white font-bold",children:a.name})]})]})},_=!0,C=function(){return(0,v.jsx)(k,{})}},17939:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/eBar/bottle/[id]",function(){return r(44760)}])}},function(e){e.O(0,[964,283,166,774,888,179],(function(){return t=17939,e(e.s=t);var t}));var t=e.O();_N_E=t}]);