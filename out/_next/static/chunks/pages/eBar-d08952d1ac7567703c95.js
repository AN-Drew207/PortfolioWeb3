(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[174],{46367:function(e,t,n){"use strict";n.d(t,{g:function(){return a}});var r=n(92809),s=n(86010),l=(n(67294),n(85893)),a=function(e){var t=e.small;return(0,l.jsx)("div",{className:"relative flex items-center flex-col",children:(0,l.jsxs)("div",{className:(0,s.Z)("loader",(0,r.Z)({},"!w-16 !h-16",t)),children:[(0,l.jsx)("span",{}),(0,l.jsx)("span",{}),(0,l.jsx)("span",{}),(0,l.jsx)("span",{})]})})}},35948:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var r=n(92809),s=n(30266),l=n(66311),a=n(809),o=n.n(a),i=n(86010),c=n(23620),d=n(41664),x=n(67294),f=n(34870),u=n.n(f),h=n(10091),m=(n(52535),n(95998)),w=n(80277),v=n(51598),p=n(91540),b=n(41643),j=n(46367),g=n(62051),N=(n(53723),n(39471),n(4724)),y=n(85893);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(){var e,t,n=(0,m.v9)((function(e){return e.state})),r=n.bottles,a=n.address,i=n.networkName,c=n.network,f=n.typeOfWallet,u=(0,m.I0)(),h=x.useState([]),g=(0,l.Z)(h,2),k=g[0],P=g[1],_=x.useState(!1),C=(0,l.Z)(_,2),D=C[0],S=C[1],T=x.useState(!1),E=(0,l.Z)(T,2),F=E[0],I=E[1],z=(0,N.Z)().getNFTsMagic,V=function(){var e=(0,s.Z)(o().mark((function e(){var t,n,s,l,a,d,x,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),console.log("nfts"),e.next=4,(0,v.Z)();case 4:return t=e.sent,e.next=7,t.eth.getAccounts();case 7:return n=e.sent,e.next=10,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x"+parseInt(c).toString(16)}]});case 10:return e.next=12,t.eth.net.getId();case 12:if(e.sent==c){e.next=15;break}return e.abrupt("return",alert("You are not on the ".concat(i," network, set network to ").concat(c)));case 15:"0x9Cf0C4bB20d6a2565b695B7610dD5DDf19542a50",l=new t.eth.Contract(b,"0x9Cf0C4bB20d6a2565b695B7610dD5DDf19542a50"),a=[],d=0,x=o().mark((function e(i){var c,x,f,h,m,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=!1,e.next=3,l.methods.collections(r[i].address).call();case 3:return x=e.sent,e.next=6,l.methods.tokenURI(x.collectionId).call();case 6:if(f=e.sent,0!=x.exchanged){e.next=17;break}return s=new t.eth.Contract(p,r[i].address),e.next=11,s.methods.getOwnerTokens(n[0]).call();case 11:h=e.sent,m=h.map((function(e){return r[i].metadata[parseInt(e)-1]})),0==h.length&&(c=!0),u((0,w.Zw)({tokensOfUser:m,index:i})),e.next=36;break;case 17:return e.next=19,l.methods.ownerOf(x.collectionId).call();case 19:if(e.t0=e.sent.toLowerCase(),e.t1=n[0].toLowerCase(),e.t0!=e.t1){e.next=34;break}return e.t2=Promise,e.next=25,fetch(f);case 25:return e.next=27,e.sent.json();case 27:return e.t3=e.sent,e.next=30,e.t2.resolve.call(e.t2,e.t3);case 30:v=e.sent,a.push(O(O({},v),{},{id:i,name:r[i].name,address:r[i].address})),e.next=35;break;case 34:c=!0;case 35:u((0,w.Zw)({tokensOfUser:[],index:i}));case 36:c&&d++;case 37:case"end":return e.stop()}}),e)})),f=0;case 21:if(!(f<r.length)){e.next=26;break}return e.delegateYield(x(f),"t0",23);case 23:f++,e.next=21;break;case 26:d===r.length?S(!1):S(!0),console.log(a,"exchanged"),P(a),I(!1);case 30:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return x.useEffect((function(){console.log(f,a,"wallet"),a&&"magic"!==f?V():"magic"==f&&z(u,I,S,P)}),[a]),(0,y.jsxs)("div",{className:"flex flex-col sm:px-16 px-4 pt-36 w-full min-h-screen relative",children:[(0,y.jsx)("img",{src:"/img/bg_membership.jpg",className:"fixed h-full w-full top-0 left-0",alt:""})," ",(0,y.jsxs)("div",{className:"relative flex flex-col w-full",children:[(0,y.jsx)("div",{className:"md:absolute hidden left-0 top-0 font-bold text-xl text-white cursor-pointer",children:(0,y.jsx)(d.default,{href:"/?bottles=true",children:"Go To Bottles"})}),(0,y.jsx)("div",{className:"absolute md:hidden left-0 top-0 font-bold text-xl text-white cursor-pointer",children:(0,y.jsx)(d.default,{href:"/?bottles=true",children:"Back"})}),(0,y.jsx)("h2",{className:"textMain font-bold mb-10 text-5xl w-full text-center",children:"eBar"}),(0,y.jsx)("div",{className:"flex flex-col gap-10 items-center justify-center w-full pb-10",children:!F||r.length>0&&((null===(e=r[0])||void 0===e||null===(t=e.tokensOfUser)||void 0===t?void 0:t.length)>0||k.length>0)?(0,y.jsxs)(y.Fragment,{children:[D?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("h2",{className:"text-4xl text-white font-bold w-full text-left",children:"Bottle NFT Fractions"}),null===r||void 0===r?void 0:r.map((function(e){var t=e.id,n=e.address,r=e.name,s=e.image,l=e.tokensOfUser;return(null===l||void 0===l?void 0:l.length)>0&&(0,y.jsx)(Z,{id:t,address:n,name:r,video:s,tokensOfUser:l})}))]}):(0,y.jsx)("div",{className:"flex items-center justify-center h-[60vh] text-3xl font-bold text-white",children:(0,y.jsx)("h2",{className:"\tp-8 rounded-xl bg-overlay",children:"You Don't Have NFTs in your eBar"})}),k.length>0&&(0,y.jsx)("h2",{className:"text-4xl text-white font-bold w-full text-left ",children:"Bottles Redeemed NFTs"}),null===k||void 0===k?void 0:k.map((function(e){return(0,y.jsx)(B,{id:e.id,address:e.address,name:e.name,image:e.image})}))]}):a?(0,y.jsx)("div",{className:"h-[60vh] flex items-center justify-center",children:(0,y.jsx)(j.g,{})}):(0,y.jsx)("div",{className:"text-center text-2xl text-white font-bold h-[60vh] flex items-center justify-center",children:(0,y.jsx)("div",{className:"bg-overlay rounded-xl p-6",children:"Please Connect Your Wallet To See this Section"})})})]})]})},B=function(e){var t=e.address,n=e.id,r=e.name,s=e.image;return(0,y.jsx)("div",{className:"flex flex-col w-full shadow-xl",children:(0,y.jsxs)("div",{className:"flex flex-col rounded-xl bg-overlay border-2 border-yellow-400 text-xl text-center font-bold text-white md:p-10 sm:p-8 p-4",children:[(0,y.jsxs)("h3",{className:"text-2xl text-center font-bold text-yellow-400 pb-4 w-full",children:[r," Final Art"]}),(0,y.jsx)("div",{className:"px-6 w-full flex items-center justify-center py-4",children:(0,y.jsx)("img",{src:s,className:"w-96",alt:""})}),(0,y.jsxs)("div",{className:"flex sm:flex-row flex-col items-center justify-center gap-4 w-full",children:[(0,y.jsx)(d.default,{href:"/bottle/".concat(n),children:(0,y.jsx)(c.z,{className:(0,i.Z)("z-10 border border-yellow-400 font-bold p-2 text-white transition ease-in-out delay-150 hover:-translate-y-1  hover:scale-110 duration-300"),children:"View Bottle Info"})}),(0,y.jsx)(d.default,{href:"/eBar/bottle/".concat(t),children:(0,y.jsx)(c.z,{className:(0,i.Z)("z-10 border border-yellow-400 font-bold p-2 text-white transition ease-in-out delay-150 hover:-translate-y-1  hover:scale-110 duration-300"),children:"View NFT Detailed"})})," "]})]})})},Z=function(e){var t=e.address,n=e.name,r=e.video,s=e.tokensOfUser,l=x.useRef(null);return x.useEffect((function(){!function(){var e;null===l||void 0===l||null===(e=l.current)||void 0===e||e.play()}()}),[r]),(0,y.jsx)("div",{className:"flex flex-col w-full shadow-xl",children:(0,y.jsxs)("div",{className:"flex flex-col rounded-xl bg-overlay border border-white text-xl text-center font-bold text-white md:p-10 sm:p-8 p-4",children:[(0,y.jsx)("h3",{className:"text-2xl text-left font-bold textMain pb-4 w-full",children:n}),(0,y.jsx)("div",{className:"sm:px-6",children:(0,y.jsx)(h.tq,{style:{"--swiper-navigation-color":"#fff","--swiper-pagination-color":"#fff"},slidesPerView:5,onSlideChange:function(){return console.log("slide change")},onSwiper:function(e){return console.log(e)},zoom:!0,scrollbar:!0,navigation:!0,modules:[g.LG,g.W_],className:"mySwiper",breakpoints:{1650:{slidesPerView:5},1100:{slidesPerView:3},700:{slidesPerView:2},100:{slidesPerView:1}},children:null===s||void 0===s?void 0:s.map((function(e){return(0,y.jsx)(h.o5,{children:(0,y.jsxs)("div",{className:"h-60 sm:w-40 w-[50%] flex flex-col items-center lg:ml-[20%] sm:ml-[20%] ml-[25%] 2xl:ml-[25%] xl:ml-[30%]",children:[(0,y.jsx)("img",{src:e.image,className:"w-40 h-40",alt:""}),(0,y.jsx)("div",{className:"p-4 flex flex-col items-center justify-center",children:e.name})]})})}))})}),(0,y.jsxs)("div",{className:"flex sm:flex-row flex-col items-center justify-center gap-4 w-full",children:[(0,y.jsx)(d.default,{href:"/bottle/".concat(t),children:(0,y.jsx)(c.z,{className:(0,i.Z)("z-10 border borderMain p-2 text-white transition ease-in-out delay-150 hover:-translate-y-1 hover:shadow-button hover:scale-110 duration-300",u().button),children:"View Bottle Info"})}),(0,y.jsx)(d.default,{href:"/eBar/bottle/".concat(t),children:(0,y.jsx)(c.z,{className:(0,i.Z)("z-10 border borderMain p-2 text-white transition ease-in-out delay-150 hover:-translate-y-1 hover:shadow-button hover:scale-110 duration-300",u().button),children:"View All NFTs"})})," "]})]})})},_=function(){return(0,y.jsx)(P,{})}},64874:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/eBar",function(){return n(35948)}])}},function(e){e.O(0,[964,774,888,179],(function(){return t=64874,e(e.s=t);var t}));var t=e.O();_N_E=t}]);