<!DOCTYPE html><html><head><meta charSet="utf-8"/><title>Andres Contreras Portfolio</title><meta name="description" content="Andres Contreras  Portfolio"/><meta name="msapplication-TileColor" content="#e68fa7"/><meta name="theme-color" content="#e68fa7"/><link rel="icon" type="image/x-icon" href="/logos/acIcon.png"/><meta property="og:title" content="Andres Contreras  Portfolio"/><meta property="og:description" content="Andres Contreras  Portfolio"/><meta property="og:image:width" content="300"/><meta property="og:image:height" content="200"/><meta property="og:title" content="Andres Contreras  Portfolio"/><meta property="og:site_name" content="Andres Contreras  Portfolio"/><meta name="viewport" content="initial-scale=1, width=device-width"/><meta name="next-head-count" content="13"/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills.js"></script><script src="/_next/static/chunks/webpack.js" defer=""></script><script src="/_next/static/chunks/main.js" defer=""></script><script src="/_next/static/chunks/pages/_app.js" defer=""></script><script src="/_next/static/development/_buildManifest.js" defer=""></script><script src="/_next/static/development/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="font-montserrat min-h-screen text-gray-800 transition-colors duration-1000 light"><nav class="fixed top-0 z-50 bg-gray-900 w-[100%] xl:px-56 lg:px-36 px-8 py-4 flex flex-row items-center justify-between shadow-md"><div class="flex items-center"><div class="mr-4 md:py-0 h-10 cursor-pointer"><img src="/logos/ac.png" class="h-10" alt=""/></div></div><div class="md:flex hidden items-center"><div><div class="sm:px-4 px-2 py-2 relative cursor-pointer"><div class="text-white gap-2 flex items-center"><h3 class="text-sm font-bold text-center">Home</h3></div></div></div><div><div class="sm:px-4 px-2 py-2 relative cursor-pointer"><div class="text-white gap-2 flex items-center"><h3 class="text-sm font-bold text-center">Projects</h3></div></div></div><div><div class="sm:px-4 px-2 py-2 relative cursor-pointer"><div class="text-white gap-2 flex items-center"><h3 class="text-sm font-bold text-center">Hackathons</h3></div></div></div><div><div class="sm:px-4 px-2 py-2 relative cursor-pointer"><div class="text-white gap-2 flex items-center"><h3 class="text-sm font-bold text-center">Certificates</h3></div></div></div></div></nav><div class="min-h-screen flex flex-col items-center py-28 bg-gray-900 gap-6 md:px-36 px-10 relative"><div class="absolute top-28 md:left-16 left-10 text-primary"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-8 cursor-pointer"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></div><h1 class="text-center text-white text-4xl font-bold">Enders Gate Marketplace</h1><img src="/img/eg_marketplace.png" class="md:w-2/3 rounded-xl" alt=""/><a href="https://polygonscan.com/address/0x71bA14e545014899b990bb5Ee36dB47Aebc12b01#code" target="_blank" class="text-center text-white text-xl font-bold px-4 py-2 rounded-xl border border-primary cursor-pointer w-54 hover:text-white hover:bg-primary transition-all duration-500">Code</a><div class="flex flex-col gap-8 items-center justify-center w-full"> <p class="text-lg text-white text-justify w-full">This smart contract, named ClockSaleMultiTokens, is a decentralized marketplace for buying and selling non-fungible tokens (NFTs) using multiple types of ERC20 tokens as payment. It inherits from the OpenZeppelin&#x27;s Ownable, Pausable, ERC1155Holder, and ReentrancyGuard contracts. The contract uses Chainlink&#x27;s AggregatorV3Interface to fetch token prices and Hardhat&#x27;s console library for logging.</p><div class="flex flex-col gap-4 w-full"><h2 class="text-lg text-white text-justify">Key features of the ClockSaleMultiTokens contract:</h2><p class="text-md text-white text-justify pl-4"><span class="font-bold">1<!-- --> -</span> <!-- -->It maintains a mapping of token IDs to their corresponding sales and a mapping of token addresses to price feed addresses.</p><p class="text-md text-white text-justify pl-4"><span class="font-bold">2<!-- --> -</span> <!-- -->The contract owner can set a fee that they receive for each sale, which is calculated as a percentage of the total sale price.</p><p class="text-md text-white text-justify pl-4"><span class="font-bold">3<!-- --> -</span> <!-- -->The contract allows NFTs to be listed for sale with a specified price in USD, a list of accepted ERC20 tokens for payment, and a sale duration.</p><p class="text-md text-white text-justify pl-4"><span class="font-bold">4<!-- --> -</span> <!-- -->Buyers can purchase NFTs with their chosen ERC20 token, provided that the token is accepted by the seller.</p><p class="text-md text-white text-justify pl-4"><span class="font-bold">5<!-- --> -</span> <!-- -->The contract supports batch buying of multiple NFTs in one transaction.</p><p class="text-md text-white text-justify pl-4"><span class="font-bold">6<!-- --> -</span> <!-- -->Sellers can cancel their sales, and the contract owner can stop and restart trading in the marketplace.</p><p class="text-md text-white text-justify pl-4"><span class="font-bold">7<!-- --> -</span> <!-- -->The contract has a feature for emergency withdrawal of funds.</p></div><p class="text-lg text-white text-justify w-full">Events emitted by the contract include SaleCreated, SaleSuccessful, BuySuccessful, SaleCancelled, and ChangedFeeReceiver.</p><p class="text-lg text-white text-justify w-full">The constructor takes the fee receiver&#x27;s address, wrapped currency address, price feed address for wrapped currency, decimals for wrapped currency, and owner&#x27;s cut as arguments. It ensures that the owner&#x27;s cut is less than or equal to 100%.</p><p class="text-lg text-white text-justify w-full">The contract supports batch buying of multiple NFTs in one transaction.</p><div class="flex flex-col gap-4 w-full"><h2 class="text-lg text-white text-justify">Some important functions in the contract are:</h2><p class="text-md text-white text-justify pl-4"><span class="font-bold">1<!-- --> -</span> <!-- -->createSale: allows users to list their NFTs for sale by specifying the NFT address, token ID, price in USD, accepted tokens, amount, and duration.</p><p class="text-md text-white text-justify pl-4"><span class="font-bold">2<!-- --> -</span> <!-- -->buy and buyBatch: allows users to buy NFTs listed for sale using their chosen ERC20 token.</p><p class="text-md text-white text-justify pl-4"><span class="font-bold">3<!-- --> -</span> <!-- -->cancelSale: allows sellers to cancel their sales.</p><p class="text-md text-white text-justify pl-4"><span class="font-bold">4<!-- --> -</span> <!-- -->setNftAllowed: allows the contract owner to specify which NFT contracts are allowed in the marketplace.</p><p class="text-md text-white text-justify pl-4"><span class="font-bold">5<!-- --> -</span> <!-- -->stopTrading and restartTrading: allows the contract owner to pause and unpause the marketplace.</p><p class="text-md text-white text-justify pl-4"><span class="font-bold">6<!-- --> -</span> <!-- -->addToken: allows the contract owner to add a new ERC20 token and its associated price feed and decimals.</p><p class="text-md text-white text-justify pl-4"><span class="font-bold">7<!-- --> -</span> <!-- -->emergencyWithdraw: allows the contract owner to withdraw funds in case of an emergency.</p></div></div></div></div></div><script src="/_next/static/chunks/react-refresh.js"></script><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/projects/contract/[project]","query":{},"buildId":"7B-6_83qgl5UUSH-DUSnu","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>